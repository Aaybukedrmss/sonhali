@{
    ViewData["Title"] = "Ödeme";
}

@section Bar{
    @await Html.PartialAsync("Partials/_Navbar")
}

<div class="container py-4">
    <h2 class="mb-3">Ödeme</h2>
    @if(TempData["ErrorMessage"] is string err && !string.IsNullOrWhiteSpace(err)){
        <div class="alert alert-danger">@err</div>
    }
    <div class="row g-4">
        <div class="col-lg-7">
            <div class="card">
                <div class="card-body">
                    <form method="post">
                        @Html.AntiForgeryToken()
                        <input type="hidden" name="orderNumber" value="@ViewBag.OrderNumber" />
                        <div class="mb-3">
                            <label class="form-label">Kart Üzerindeki İsim</label>
                            <input name="cardName" class="form-control" required />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Kart Numarası</label>
                            <input name="cardNumber" class="form-control" maxlength="19" required />
                        </div>
                        <div class="row">
                            <div class="col">
                                <label class="form-label">SKT (AA/YY)</label>
                                <input name="expiry" class="form-control" placeholder="12/29" required />
                            </div>
                            <div class="col">
                                <label class="form-label">CVC</label>
                                <input name="cvc" class="form-control" maxlength="4" required />
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary mt-3 w-100">Ödemeyi Tamamla</button>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-lg-5">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Özet</h5>
                    <p class="mb-1">Sipariş No: <strong>@ViewBag.OrderNumber</strong></p>
                    <p class="mb-1">Kargo: <strong>@ViewBag.Provider</strong></p>
                    <p class="mb-0">Toplam: <strong>@(((decimal)ViewBag.Total).ToString("C"))</strong></p>
                </div>
            </div>
        </div>
    </div>
</div>


